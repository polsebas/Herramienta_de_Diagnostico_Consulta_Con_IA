# Project Progress Report â€” Agno Team Coordinate Refactor
**Repo:** polsebas/Herramienta_de_Diagnostico_Consulta_Con_IA  
**Framework:** Agno (Teams Â· Coordinate mode)  
**Updated:** 31 Aug 2025

---

## ğŸ¯ Objetivo
Migrar el sistema de agentes a la arquitectura **Agno Teams (Coordinate)**:
- Un **Team Agent** central coordina sub-agentes especializados.  
- Cada agente implementa un rol claro (Analyzer, DocGen, Roadmap, CursorTask).  
- ComunicaciÃ³n vÃ­a **event streams** compatibles con **Agno Agent UI**.  
- Control humano en decisiones crÃ­ticas (human-in-the-loop).  

---

## ğŸ§­ Roadmap de PRs

### PR-R1 â€” Infraestructura de Team Coordinate
**Branch:** `refactor/agno-team-core`  
**Objetivo:** Integrar Agno framework y definir el `TeamAgent` central.  
**Entregables:**
- Dependencia `agno` en `requirements.txt`.
- Crear `/agents/team/TeamCoordinator.py` con rol principal:
  - Coordina flujos.
  - Define protocolo de turnos (Coordinate mode).
  - ExposiciÃ³n a UI vÃ­a AG-UI events.
- Endpoints nuevos:
  - `POST /api/team/session` â†’ inicializa team con roles activos.
  - `GET /api/team/status` â†’ progreso coordinado.
**Criterios de aceptaciÃ³n:**  
- El sistema arranca con un **Ãºnico entrypoint** (TeamAgent).  
- Logs muestran asignaciÃ³n de tareas a sub-agentes.  

---

### PR-R2 â€” RedefiniciÃ³n de Sub-Agentes (Roles Especializados)
**Branch:** `refactor/agno-subagents`  
**Objetivo:** Migrar agentes actuales al formato Agno Roles.  
**Nuevos agentes:**
- `AnalyzerAgent` â†’ analiza cÃ³digo/repositorios.  
- `DocGenAgent` â†’ genera/actualiza documentaciÃ³n.  
- `RoadmapAgent` â†’ sintetiza planes de evoluciÃ³n.  
- `CursorTaskAgent` â†’ genera `.md` tasks para Cursor.  
**Criterios de aceptaciÃ³n:**  
- Cada agente implementa contrato Agno (`act`, `respond`, `handoff`).  
- TeamAgent puede activar/agrupar agentes en flujos.  

---

### PR-R3 â€” Flujo Coordinate (OrquestaciÃ³n Completa)
**Branch:** `feature/team-coordinate-flows`  
**Objetivo:** Implementar el ciclo completo de coordinaciÃ³n.  
**Entregables:**
- Definir `workflow/coordinate_flow.py`:
  1. Inicia con **fuentes seleccionadas** (PR-U1).  
  2. `AnalyzerAgent` produce insights.  
  3. `DocGenAgent` actualiza docs.  
  4. `RoadmapAgent` arma plan.  
  5. `CursorTaskAgent` emite paquetes.  
- Manejo de **pause points** (ej. cambios en `/auth/`).  
**Criterios de aceptaciÃ³n:**  
- El TeamAgent muestra **handoffs** claros en UI.  
- Usuario puede aprobar/rechazar pasos.  

---

### PR-R4 â€” IntegraciÃ³n con Agno Agent UI
**Branch:** `feature/team-ui-integration`  
**Objetivo:** Conectar el TeamAgent al frontend Agno Agent UI.  
**Entregables:**
- ConexiÃ³n AG-UI protocol:
  - Eventos de progreso (per agente).
  - Historial de turnos/decisiones.  
- UI: panel de **orquestaciÃ³n visual** (quiÃ©n actÃºa, quiÃ©n espera).  
**Criterios de aceptaciÃ³n:**  
- El usuario ve un **timeline de agentes** y puede intervenir.  
- Audit trail registrado en `logs/audit.jsonl`.  

---

### PR-R5 â€” QA & Testing Framework para CoordinaciÃ³n
**Branch:** `feature/team-tests`  
**Objetivo:** Asegurar calidad y regresiÃ³n.  
**Entregables:**
- Test unitarios por agente (Analyzer, DocGen, etc.).  
- Test integrados de flujos de coordinaciÃ³n.  
- SimulaciÃ³n de decisiones humanas (mock responses).  
**Criterios de aceptaciÃ³n:**  
- CI ejecuta >80% cobertura en sub-agentes.  
- Flujos Coordinate pasan con mock human-in-loop.  

---

### PR-R6 â€” ExtensiÃ³n: Roles Avanzados (Planned)
**Branch:** `feature/team-advanced-agents`  
**Objetivo:** AÃ±adir agentes especializados para:  
- **RiskAgent** (detectar riesgos de seguridad/privacidad).  
- **IntegrationAgent** (preparar conectores externos, ej. Slack/Azure).  
**Meta:** Escalabilidad hacia uso empresarial.  

---

## ğŸ“Š MÃ©tricas de Progreso
- % de agentes migrados al modelo Agno (meta: 100%).  
- Tiempo medio de coordinaciÃ³n de flujo (baseline + reducciÃ³n).  
- Tasa de handoffs exitosos sin error (meta: >90%).  
- Feedback humano capturado (meta: 100% acciones crÃ­ticas con log).  

---

## ğŸ“ Nueva estructura

/agents
/team
TeamCoordinator.py
/roles
AnalyzerAgent.py
DocGenAgent.py
RoadmapAgent.py
CursorTaskAgent.py
/workflow
coordinate\_flow\.py
/logs
/reports
/docs
/cursor\_tasks



---


---